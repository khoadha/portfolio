<ng-container *ngIf="profile; else loading">
    <!-- Grid Container -->
    <div class="grid">
        <!-- Profile Section -->
        <div class="col-12 md:col-5 lg:col-4">
            <p-card styleClass="shadow-3">
                <!-- Profile Image -->
                <div class="relative mb-4">
                    <img [src]="profile.profileImage" alt="Profile" class="w-full border-round"
                        style="max-height: 800px; object-fit: cover;">

                    <p-badge *ngIf="profile.isAvailable" value="Available" severity="success"
                        styleClass="absolute top-0 right-0 m-2"></p-badge>
                    <p-badge *ngIf="!profile.isAvailable" value="Unavailable" severity="danger"
                        styleClass="absolute top-0 right-0 m-2"></p-badge>
                </div>

                <!-- Profile Info -->
                <h2 class="text-2xl font-bold mb-2">{{profile.name}}</h2>
                <h3 class="text-xl text-primary mb-4">{{profile.role}}</h3>

                <!-- Social Links -->
                <div class="flex gap-3 mb-4">
                    <p-button (onClick)="onClickSocialMedia('github')" icon="pi pi-github"
                        styleClass="p-button-rounded p-button-text"></p-button>
                    <p-button (onClick)="onClickSocialMedia('linkedin')" icon="pi pi-linkedin"
                        styleClass="p-button-rounded p-button-text"></p-button>
                    <p-button (onClick)="onClickSocialMedia('facebook')" icon="pi pi-facebook"
                        styleClass="p-button-rounded p-button-text"></p-button>
                </div>

                <!-- Skills -->
                <div class="surface-border pt-2">
                    <h4 class="text-sm font-medium text-600 mb-3">Skills</h4>
                    <div class="flex flex-wrap gap-2">
                        <p-chip *ngFor="let skill of skills" [label]="skill">
                        </p-chip>
                    </div>
                </div>
            </p-card>
        </div>

        <!-- Content Section -->
        <div class="col-12 md:col-7 lg:col-8 pl-0 md:pl-4">
            <!-- About Me -->
            <p-card styleClass="mb-4 shadow-3">
                <ng-template pTemplate="header">
                    <h2 class="text-2xl font-bold m-3">Summary</h2>
                </ng-template>

                <p class="line-height-3 text-700 mb-4">
                    {{profile.summary}}
                </p>
            </p-card>

            <!-- Featured Projects -->
            <p-card styleClass="shadow-3">
                <ng-template pTemplate="header">
                    <h2 class="text-2xl font-bold m-3">Projects</h2>
                </ng-template>

                <div class="grid grid-nogutter">
                    <div class="col-12 mb-4" *ngFor="let project of projects">
                        <div
                            class="surface-100 border-round p-4 hover:surface-200 transition-colors transition-duration-200">
                            <div class="flex justify-content-between align-items-start">
                                <div>
                                    <h3 class="text-xl font-semibold mb-2">{{project.name}}</h3>
                                    <p class="text-700 line-height-3 mb-3">{{project.description}}</p>

                                    <div class="flex flex-wrap gap-2">
                                        <p-chip *ngFor="let tech of project.skillsArray" [label]="tech">
                                        </p-chip>
                                    </div>
                                </div>
                                <p-button (onClick)="onClickOpenProject(project)" icon="pi pi-external-link"
                                    styleClass="p-button-rounded p-button-text">
                                </p-button>
                            </div>
                        </div>
                    </div>
                </div>
            </p-card>
        </div>
    </div>
</ng-container>

<ng-template #loading>
    <div class="rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900">
        <div class="flex mb-4">
            <p-skeleton shape="circle" size="4rem" styleClass="mr-2" />
            <div>
                <p-skeleton width="10rem" styleClass="mb-2" />
                <p-skeleton width="5rem" styleClass="mb-2" />
                <p-skeleton height=".5rem" />
            </div>
        </div>
        <p-skeleton width="100%" height="150px" />
        <div class="flex justify-between mt-4">
            <p-skeleton width="4rem" height="2rem" />
            <p-skeleton width="4rem" height="2rem" />
        </div>
    </div>
</ng-template>